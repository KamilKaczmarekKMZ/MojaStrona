<!DOCTYPE html>
<html>
<head>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    @keyframes zoom-in {
      0% {
        transform: translateZ(-1000px);
        opacity: 0;
        filter: blur(5px);
      }
      50% {
        transform: translateZ(0px);
        opacity: 1;
        filter: blur(0px);
      }
      100% {
        transform: translateZ(1000px);
        opacity: 0;
        filter: blur(5px);
      }
    }

    .stuck-grid {
      block-size: 100svh;
      perspective: 1000px;
      transform-style: preserve-3d;

      display: grid;
      grid: repeat(4, 25dvh) / repeat(4, 25dvw);;
      place-items: center;

      position: sticky;
      top: 0;

      overflow: clip;

      > .grid-item {
        transform-style: preserve-3d;

        font-size: 5vmin;
        font-weight: lighter;
        text-wrap: nowrap;
        
        /* Neon effect */
        color: #fff;
        text-shadow: 
          0 0 5px #fff,
          0 0 10px #fff,
          0 0 20px #fff,
          0 0 40px #0ff,
          0 0 80px #0ff,
          0 0 90px #0ff,
          0 0 100px #0ff,
          0 0 150px #0ff;
        animation: flicker 1.5s infinite alternate;

        @supports (animation-timeline: scroll()) {
          @media (prefers-reduced-motion: no-preference) {
            animation: zoom-in linear both, flicker 1.5s infinite alternate;
            animation-timeline: scroll(root block);
            will-change: transform, opacity, filter;
          }
        }

        &.special.special {
          grid-row: 2 / span 2;
          grid-column: 2 / span 2;
          
          /* Special neon effect for the center element */
          text-shadow: 
            0 0 10px #fff,
            0 0 20px #fff,
            0 0 30px #fff,
            0 0 40px #ff00de,
            0 0 70px #ff00de,
            0 0 80px #ff00de,
            0 0 100px #ff00de,
            0 0 150px #ff00de;
        }

        > b {
          font-size: 15vmin;
        }

        /* ... (pozostałe style pozostają bez zmian) ... */
      }

      /* Style dla modelu 3D */
      model-viewer.grid-item.special {
        width: 100%;
        height: 100%;
        background: transparent;
        border: none;
        --poster-color: transparent;
        --progress-mask: none;
        --progress-bar-color: transparent;
      }

      model-viewer.grid-item.special::part(model) {
        transform: scale(1.5);
      }

      model-viewer.grid-item.special::part(interaction-prompt) {
        display: none;
      }

      /* Nowe style dla obracania modelu podczas scrollowania */
      @supports (animation-timeline: scroll()) {
        model-viewer.grid-item.special {
          animation: rotate-model linear forwards;
          animation-timeline: scroll(root block);
          animation-range: 0% 100%;
        }
      }

      @keyframes rotate-model {
        from {
          --model-viewer-rotation-y: 0deg;
        }
        to {
          --model-viewer-rotation-y: 360deg;
        }
      }
    }

    @layer support {
      * {
        box-sizing: border-box;
        margin: 0;
      }

      html {
        block-size: 100%;
        color-scheme: dark light;
        background-color: #000;
      }

      body {
        min-block-size: 400vh;
        font-family: system-ui, sans-serif;
      }
    }
  </style>
</head>
<body>
  <div class="stuck-grid">
    <div class="grid-item">CRM</div>
    <div class="grid-item">ERP</div>
    <div class="grid-item">API</div>
    <div class="grid-item">Cloud</div>
    <div class="grid-item">AI</div>
    <div class="grid-item">RPA</div>
    <div class="grid-item">BPM</div>
    <div class="grid-item">Workflow</div>
    <div class="grid-item">Zapier</div>
    <div class="grid-item">Make</div>
    <model-viewer 
      class="grid-item special" 
      src="twoje-logo.glb" 
      alt="Moje logo 3D"
      interaction-prompt="none"
      disable-zoom
      disable-pan
      disable-tap
      auto-rotate-delay="0"
      camera-controls=""
    ></model-viewer>
    <div class="grid-item">Automation</div>
    <div class="grid-item">Scalability</div>
    <div class="grid-item">Integration</div>
    <div class="grid-item">Microservices</div>
    <div class="grid-item">Low-Code</div>
    <div class="grid-item">No-Code</div>
    <div class="grid-item">Webhooks</div>
    <div class="grid-item">ETL</div>
    <div class="grid-item">Big Data</div>
    <div class="grid-item">BI</div>
    <div class="grid-item">Analytics</div>
    <div class="grid-item">Dashboard</div>
    <div class="grid-item">Chatbot</div>
    <div class="grid-item">ML</div>
    <div class="grid-item">IoT</div>
    <div class="grid-item">DevOps</div>
    <div class="grid-item">CI/CD</div>
    <div class="grid-item">Kubernetes</div>
    <div class="grid-item">Docker</div>
    <div class="grid-item">Agile</div>
    <div class="grid-item">Scrum</div>
    <div class="grid-item">Kanban</div>
    <div class="grid-item">SLA</div>
    <div class="grid-item">SaaS</div>
    <div class="grid-item">PaaS</div>
    <div class="grid-item">IaaS</div>
    <div class="grid-item">Security</div>
    <div class="grid-item">GDPR</div>
    <div class="grid-item">Compliance</div>
    <div class="grid-item">Subscription</div>
    <div class="grid-item">Recurring</div>
    <div class="grid-item">MRR</div>
    <div class="grid-item">ARR</div>
    <div class="grid-item">Churn</div>
    <div class="grid-item">Onboarding</div>
    <div class="grid-item">UX</div>
    <div class="grid-item">UI</div>
    <div class="grid-item">CX</div>
    <div class="grid-item">Retention</div>
    <div class="grid-item">Upsell</div>
  </div>

  <script>
    // Dodatkowy skrypt zapewniający płynne obracanie
    document.addEventListener('DOMContentLoaded', () => {
      const modelViewer = document.querySelector('model-viewer');
      let lastScroll = 0;
      
      // Funkcja obsługująca scroll
      const handleScroll = () => {
        const scrollPosition = window.scrollY;
        const documentHeight = document.body.scrollHeight - window.innerHeight;
        const scrollPercent = scrollPosition / documentHeight;
        
        // Obracamy model o 360 stopni w zależności od pozycji scrolla
        const rotation = scrollPercent * 360;
        modelViewer.orientation = `0deg ${rotation}deg 0deg`;
        
        lastScroll = scrollPosition;
      };

      // Nasłuchujemy zdarzenia scroll
      window.addEventListener('scroll', handleScroll);
    });
  </script>
</body>
</html>
